<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
    <style>
        body {
            font-family: sans-serif;
            background-color: #efefef;
            text-align: center;
        }

        label {
            display: block;
            margin: 15px 0;
        }

        fieldset {
            margin: 0 auto;
            width: fit-content;
        }

        textarea {
            display: block;
            resize: none;
        }

        #resta-container {
            display: none;
        }
    </style>
</head>

<body>

    <h1>Curso JavaScript Completo</h1>

    <textarea name="msg" id="msg" cols="30" rows="30" maxlength="100"></textarea>
    <p id="resta-container">
        Restam <span id="resta"></span> caracteres
    </p>

    <script>

        (function () {
            'use strict';

            var $resta = document.querySelector('#resta')
            var $msg = document.querySelector('#msg');
            var max = $msg.maxLength;
            var $restaContainer = document.querySelector('#resta-container');


            mostraContainerResta();
            mostraCaracteresRestantes(max);

            $msg.addEventListener('input', verificaQuantidaDeLetras);

            function verificaQuantidaDeLetras(e) {
                var numeroDeCaracteres = this.value.length;
                var caracteresRestantes = Number(max) - Number(numeroDeCaracteres);
                mostraCaracteresRestantes(caracteresRestantes);
            }

            function mostraCaracteresRestantes(n) {
                $resta.textContent = n
            }

            function mostraContainerResta() {
                $restaContainer.style.display = 'block'
            }

        })()

    </script>

</body>

</html>